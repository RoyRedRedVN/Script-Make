--===[ UI SYSTEM ]===--

-- GUI
local a = Instance.new("ScreenGui", game.CoreGui)
a.Name = "DiamondFarmUI"

local main = Instance.new("Frame", a)
main.Size = UDim2.new(0, 300, 0, 220)
main.Position = UDim2.new(0, 80, 0, 100)
main.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

local stroke = Instance.new("UIStroke", main)
stroke.Thickness = 2

-- Rainbow toggle
local rainbow = true
task.spawn(function()
	while task.wait() do
		if rainbow then
			for hue = 0, 1, 0.01 do
				stroke.Color = Color3.fromHSV(hue, 1, 1)
				task.wait(0.02)
			end
		else
			stroke.Color = Color3.fromRGB(255, 255, 255)
			task.wait(0.1)
		end
	end
end)

-- Header
local header = Instance.new("TextLabel", main)
header.Size = UDim2.new(1, 0, 0, 30)
header.BackgroundTransparency = 1
header.Text = "üíé Diamond Farm | C√°o Mod"
header.TextColor3 = Color3.fromRGB(255, 255, 255)
header.Font = Enum.Font.GothamBold
header.TextSize = 14

-- Tab Buttons
local tabFrame = Instance.new("Frame", main)
tabFrame.Size = UDim2.new(1, 0, 0, 30)
tabFrame.Position = UDim2.new(0, 0, 0, 30)
tabFrame.BackgroundTransparency = 1

local pages = {}
local currentPage

local function switchPage(name)
	for n, pg in pairs(pages) do
		pg.Visible = (n == name)
	end
end

local function createTab(name, posX)
	local btn = Instance.new("TextButton", tabFrame)
	btn.Size = UDim2.new(0, 90, 0, 25)
	btn.Position = UDim2.new(0, posX, 0, 0)
	btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 13
	btn.Text = name
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

	btn.MouseButton1Click:Connect(function()
		switchPage(name)
	end)
end

-- Pages holder
local content = Instance.new("Frame", main)
content.Size = UDim2.new(1, -20, 1, -70)
content.Position = UDim2.new(0, 10, 0, 65)
content.BackgroundTransparency = 1

-- Page template
local function createPage(name)
	local frame = Instance.new("Frame", content)
	frame.Size = UDim2.new(1, 0, 1, 0)
	frame.BackgroundTransparency = 1
	frame.Visible = false
	pages[name] = frame
	return frame
end

--=== FARM PAGE ===--
local farmPage = createPage("Farm")

local diamondLabel = Instance.new("TextLabel", farmPage)
diamondLabel.Size = UDim2.new(1, -20, 0, 35)
diamondLabel.Position = UDim2.new(0, 10, 0, 0)
diamondLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
diamondLabel.TextColor3 = Color3.new(1, 1, 1)
diamondLabel.Font = Enum.Font.GothamBold
diamondLabel.TextSize = 14
diamondLabel.BorderSizePixel = 0
Instance.new("UICorner", diamondLabel).CornerRadius = UDim.new(0, 6)

task.spawn(function()
	while task.wait(0.2) do
		diamondLabel.Text = "Diamonds: " .. DiamondCount.Text
	end
end)

local autoFarm = false
local farmBtn = Instance.new("TextButton", farmPage)
farmBtn.Size = UDim2.new(1, -20, 0, 30)
farmBtn.Position = UDim2.new(0, 10, 0, 50)
farmBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
farmBtn.TextColor3 = Color3.new(1, 1, 1)
farmBtn.Font = Enum.Font.GothamBold
farmBtn.TextSize = 14
farmBtn.Text = "Auto Farm: OFF üö´"
Instance.new("UICorner", farmBtn).CornerRadius = UDim.new(0, 6)

farmBtn.MouseButton1Click:Connect(function()
	autoFarm = not autoFarm
	farmBtn.Text = autoFarm and "Auto Farm: ON ‚úÖ" or "Auto Farm: OFF üö´"
	if autoFarm then
		task.spawn(function()
			while autoFarm do
				for _, v in pairs(workspace:GetDescendants()) do
					if v.ClassName == "Model" and v.Name == "Diamond" then
						pcall(function()
							Remote:FireServer(v)
						end)
					end
				end
				task.wait(1)
			end
		end)
	end
end)

--=== TELEPORT PAGE ===--
local tpPage = createPage("Teleport")

local hopBtn = Instance.new("TextButton", tpPage)
hopBtn.Size = UDim2.new(1, -20, 0, 30)
hopBtn.Position = UDim2.new(0, 10, 0, 0)
hopBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
hopBtn.TextColor3 = Color3.new(1, 1, 1)
hopBtn.Font = Enum.Font.GothamBold
hopBtn.TextSize = 14
hopBtn.Text = "Hop Server üåç"
Instance.new("UICorner", hopBtn).CornerRadius = UDim.new(0, 6)

hopBtn.MouseButton1Click:Connect(function()
	hopServer()
end)

local rejoinBtn = Instance.new("TextButton", tpPage)
rejoinBtn.Size = UDim2.new(1, -20, 0, 30)
rejoinBtn.Position = UDim2.new(0, 10, 0, 40)
rejoinBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
rejoinBtn.TextColor3 = Color3.new(1, 1, 1)
rejoinBtn.Font = Enum.Font.GothamBold
rejoinBtn.TextSize = 14
rejoinBtn.Text = "Rejoin üîÑ"
Instance.new("UICorner", rejoinBtn).CornerRadius = UDim.new(0, 6)

rejoinBtn.MouseButton1Click:Connect(function()
	TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, LocalPlayer)
end)

--=== SETTINGS PAGE ===--
local setPage = createPage("Settings")

local rainbowBtn = Instance.new("TextButton", setPage)
rainbowBtn.Size = UDim2.new(1, -20, 0, 30)
rainbowBtn.Position = UDim2.new(0, 10, 0, 0)
rainbowBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
rainbowBtn.TextColor3 = Color3.new(1, 1, 1)
rainbowBtn.Font = Enum.Font.GothamBold
rainbowBtn.TextSize = 14
rainbowBtn.Text = "Rainbow Border: ON üåà"
Instance.new("UICorner", rainbowBtn).CornerRadius = UDim.new(0, 6)

rainbowBtn.MouseButton1Click:Connect(function()
	rainbow = not rainbow
	rainbowBtn.Text = rainbow and "Rainbow Border: ON üåà" or "Rainbow Border: OFF ‚ùå"
end)

local closeBtn = Instance.new("TextButton", setPage)
closeBtn.Size = UDim2.new(1, -20, 0, 30)
closeBtn.Position = UDim2.new(0, 10, 0, 40)
closeBtn.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 14
closeBtn.Text = "Close UI ‚ùå"
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 6)

closeBtn.MouseButton1Click:Connect(function()
	a:Destroy()
end)

-- Create Tabs
createTab("Farm", 10)
createTab("Teleport", 110)
createTab("Settings", 210)

-- Default page
switchPage("Farm")
